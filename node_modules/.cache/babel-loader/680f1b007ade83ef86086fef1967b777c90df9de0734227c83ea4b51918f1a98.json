{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Callback(){const urlParams=new URLSearchParams(window.location.search);const code=urlParams.get('code');const[NRIC,setNRIC]=useState('');const[UUID,setUUID]=useState('');useEffect(()=>{const getIDToken=async()=>{const url=\"https://lively-melomakarona-f8f6d3.netlify.app/.netlify/functions/api?code=\".concat(code);const{data}=await axios.get(url);setNRIC(data.data);setUUID(data.UUID);};getIDToken();},[code]);return/*#__PURE__*/_jsxs(\"div\",{class:\"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\",children:\"Congratulation, you have successfully integrated with Singpass\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"px-4 sm:px-0\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"text-base font-semibold leading-7 text-gray-900\",children:\"Login Information\"}),/*#__PURE__*/_jsx(\"p\",{class:\"mt-1 max-w-2xl text-sm leading-6 text-gray-500\",children:\"Login user's NRIC/UUID.\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"mt-6 border-t border-gray-100\",children:/*#__PURE__*/_jsxs(\"dl\",{class:\"divide-y divide-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\",children:[/*#__PURE__*/_jsx(\"dt\",{class:\"text-sm font-medium leading-6 text-gray-900\",children:\"NRIC\"}),/*#__PURE__*/_jsx(\"dd\",{class:\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\",children:NRIC})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\",children:[/*#__PURE__*/_jsx(\"dt\",{class:\"text-sm font-medium leading-6 text-gray-900\",children:\"UUID\"}),/*#__PURE__*/_jsx(\"dd\",{class:\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\",children:UUID})]})]})})]});}export default Callback;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Callback","urlParams","URLSearchParams","window","location","search","code","get","NRIC","setNRIC","UUID","setUUID","getIDToken","url","concat","data","class","children"],"sources":["/Users/zackcheng/Desktop/2024/sp-demo-frontend/src/callback.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nfunction Callback() {\n  const urlParams = new URLSearchParams(window.location.search);\n  const code = urlParams.get('code');\n  const [NRIC, setNRIC] = useState('');\n  const [UUID, setUUID] = useState('');\n  useEffect(() => {\n    const getIDToken = async () => {\n      const url = `https://lively-melomakarona-f8f6d3.netlify.app/.netlify/functions/api?code=${code}`;\n      const { data } = await axios.get(url);\n      setNRIC(data.data);\n      setUUID(data.UUID);\n    };\n\n    getIDToken();\n  }, [code]);\n  return (\n    <div class=\"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8\">\n      <h2 class=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\n        Congratulation, you have successfully integrated with Singpass\n      </h2>\n      <div class=\"px-4 sm:px-0\">\n        <h3 class=\"text-base font-semibold leading-7 text-gray-900\">\n          Login Information\n        </h3>\n        <p class=\"mt-1 max-w-2xl text-sm leading-6 text-gray-500\">\n          Login user's NRIC/UUID.\n        </p>\n      </div>\n      <div class=\"mt-6 border-t border-gray-100\">\n        <dl class=\"divide-y divide-gray-100\">\n          <div class=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\n            <dt class=\"text-sm font-medium leading-6 text-gray-900\">NRIC</dt>\n            <dd class=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n              {NRIC}\n            </dd>\n          </div>\n          <div class=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\n            <dt class=\"text-sm font-medium leading-6 text-gray-900\">UUID</dt>\n            <dd class=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n              {UUID}\n            </dd>\n          </div>\n        </dl>\n      </div>\n    </div>\n  );\n}\n\nexport default Callback;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAC1B,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAAAC,SAAS,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAC7D,KAAM,CAAAC,IAAI,CAAGL,SAAS,CAACM,GAAG,CAAC,MAAM,CAAC,CAClC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACgB,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACpCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAC,GAAG,+EAAAC,MAAA,CAAiFR,IAAI,CAAE,CAChG,KAAM,CAAES,IAAK,CAAC,CAAG,KAAM,CAAApB,KAAK,CAACY,GAAG,CAACM,GAAG,CAAC,CACrCJ,OAAO,CAACM,IAAI,CAACA,IAAI,CAAC,CAClBJ,OAAO,CAACI,IAAI,CAACL,IAAI,CAAC,CACpB,CAAC,CAEDE,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACN,IAAI,CAAC,CAAC,CACV,mBACEP,KAAA,QAAKiB,KAAK,CAAC,4DAA4D,CAAAC,QAAA,eACrEpB,IAAA,OAAImB,KAAK,CAAC,6EAA6E,CAAAC,QAAA,CAAC,gEAExF,CAAI,CAAC,cACLlB,KAAA,QAAKiB,KAAK,CAAC,cAAc,CAAAC,QAAA,eACvBpB,IAAA,OAAImB,KAAK,CAAC,iDAAiD,CAAAC,QAAA,CAAC,mBAE5D,CAAI,CAAC,cACLpB,IAAA,MAAGmB,KAAK,CAAC,gDAAgD,CAAAC,QAAA,CAAC,yBAE1D,CAAG,CAAC,EACD,CAAC,cACNpB,IAAA,QAAKmB,KAAK,CAAC,+BAA+B,CAAAC,QAAA,cACxClB,KAAA,OAAIiB,KAAK,CAAC,0BAA0B,CAAAC,QAAA,eAClClB,KAAA,QAAKiB,KAAK,CAAC,mDAAmD,CAAAC,QAAA,eAC5DpB,IAAA,OAAImB,KAAK,CAAC,6CAA6C,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cACjEpB,IAAA,OAAImB,KAAK,CAAC,4DAA4D,CAAAC,QAAA,CACnET,IAAI,CACH,CAAC,EACF,CAAC,cACNT,KAAA,QAAKiB,KAAK,CAAC,mDAAmD,CAAAC,QAAA,eAC5DpB,IAAA,OAAImB,KAAK,CAAC,6CAA6C,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cACjEpB,IAAA,OAAImB,KAAK,CAAC,4DAA4D,CAAAC,QAAA,CACnEP,IAAI,CACH,CAAC,EACF,CAAC,EACJ,CAAC,CACF,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAV,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}